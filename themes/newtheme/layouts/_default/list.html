{{ partial "header.html" . }}

<main class="container" role="main">

  {{ if .Content }}
  <article class="article">
    {{ if .Title }}
    <h1 class="article-title">{{ .Title }}</h1>
    {{ end }}
    <div class="article-content">
      {{ .Content }}
    </div>
  </article>
  {{ end }}
  <div class="container">
    {{ $pages := .Pages }}
    {{ if .IsHome }}
    {{ $pages = .Site.RegularPages }}
    {{ end }}
    {{ range (where $pages "Section" "!=" "").GroupBy "Section" }}
    <h1 class="archive-title">{{ .Key | upper}}</h1>
    {{ range .Pages }}
        <div class="section" id="{{ .Title | urlize }}">
            <!-- Begin Blog container -->
            <div class="container">
              {{ range .Pages.ByPublishDate.Reverse }}
                    <div class="summary"><br>{{ if .Params.date }}{{ .Date.Format (.Site.Params.dateFormat | default "Jan 02, 2006") }}{{ end }}
                        <h3 class="title is-3 latest-post-title"><a href="{{ .Permalink }}">{{ .Title | markdownify }}</a></h3>
                            <div class="markdown">
                            {{ .Summary }}
                            {{ if .Truncated }}
                            <a href="{{ .Permalink }}">Read more</a>
                            {{ end }}
                            </div>
                    </div>
              {{ end }}
            </div>
        </div>
    
    </article>
    {{ end }}
    {{ end }}
  </div>

</main>

{{ partial "footer.html" . }}
